(this.webpackJsonpmovies=this.webpackJsonpmovies||[]).push([[0],{29:function(e,t,n){},31:function(e,t,n){},38:function(e,t,n){"use strict";n.r(t);var a=n(1),r=n(23),c=n.n(r),s=(n(29),n(16)),i=n(13),o=n.n(i),l=n(17),u=n(15),j=n(3),b=n(4),h=n(6),d=n(5);n(31);var v=n(0),m=function(e){Object(h.a)(n,e);var t=Object(d.a)(n);function n(){return Object(j.a)(this,n),t.apply(this,arguments)}return Object(b.a)(n,[{key:"render",value:function(){for(var e=this.props,t=e.numberofPage,n=e.currentPage,a=e.changeCurrentPage,r=[],c=0;c<t;c++)r.push(c+1);return Object(v.jsx)("nav",{"aria-label":"...",className:"col-2",children:Object(v.jsx)("ul",{className:"pagination ",children:r.map((function(e){var t=e==n?"page-item active":"page-item";return Object(v.jsx)("li",{className:"page-item","aria-current":"page",children:Object(v.jsx)("li",{className:t,"aria-current":"page",onClick:function(){a(e)},children:Object(v.jsx)("span",{className:"page-link",children:e})})})}))})})}}]),n}(a.Component),p=function(e){Object(h.a)(n,e);var t=Object(d.a)(n);function n(){return Object(j.a)(this,n),t.apply(this,arguments)}return Object(b.a)(n,[{key:"render",value:function(){var e=this.props,t=e.genres,n=e.groupByGenres;return Object(v.jsx)("ul",{class:"list-group",children:t.map((function(e){return Object(v.jsx)("li",{class:"list-group-item",onClick:function(){n(e.name)},children:e.name},e.id)}))})}}]),n}(a.Component),f=n(11),O=function(e){Object(h.a)(n,e);var t=Object(d.a)(n);function n(){var e;Object(j.a)(this,n);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).state={movies:[],currSearchText:"",limit:4,genres:[{id:1,name:"All Genres"}],currentPage:1,cGenres:"All Genres"},e.deleteEntry=function(t){var n=e.state.movies.filter((function(e){return e._id!=t}));e.setState({movies:n})},e.setCurrentText=function(t){var n=t.target.value;e.setState({currSearchText:n})},e.sortByRating=function(t){var n,a=t.target.className,r=e.state.movies;n="fas fa-sort-up"==a?r.sort((function(e,t){return e.dailyRentalRate-t.dailyRentalRate})):r.sort((function(e,t){return t.dailyRentalRate-e.dailyRentalRate})),e.setState({movies:n})},e.sortByStock=function(t){var n,a=t.target.className.trim(),r=e.state.movies;n="fas fa-sort-up"==a?r.sort((function(e,t){return e.numberInStock-t.numberInStock})):r.sort((function(e,t){return t.numberInStock-e.numberInStock})),e.setState({movies:n})},e.changelimit=function(t){var n=t.target.value;n<1||e.setState({limit:n})},e.changeCurrentPage=function(t){e.setState({currentPage:t})},e.groupByGenres=function(t){e.setState({cGenres:t,currSearchText:""})},e}return Object(b.a)(n,[{key:"componentDidMount",value:function(){var e=Object(l.a)(o.a.mark((function e(){var t,n,a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://react-backend101.herokuapp.com/movies");case 2:return t=e.sent,e.next=5,t.json();case 5:return n=e.sent,this.setState({movies:n.movies}),e.next=9,fetch("https://react-backend101.herokuapp.com/genres");case 9:return t=e.sent,e.next=12,t.json();case 12:a=e.sent,this.setState({genres:[].concat(Object(u.a)(this.state.genres),Object(u.a)(a.genres))});case 14:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this,t=this.state,n=t.movies,a=t.currSearchText,r=t.limit,c=t.currentPage,s=t.genres,i=t.cGenres,o=n;"All Genres"!=i&&(o=o.filter((function(e){return e.genre.name==i}))),""!=a&&(o=o.filter((function(e){return e.title.trim().toLowerCase().includes(a.toLowerCase())})));var l=Math.ceil(o.length/r),u=(c-1)*r,j=u+r;return o=o.slice(u,j),Object(v.jsxs)("div",{className:"row",children:["     ",Object(v.jsx)("div",{className:"col-3",children:Object(v.jsx)(p,{genres:s,groupByGenres:this.groupByGenres})}),Object(v.jsxs)("div",{className:"col-9",children:[Object(v.jsx)("button",{className:"btn btn-primary",children:Object(v.jsx)(f.b,{to:"/new",className:"text-light",children:"New"})}),Object(v.jsx)("input",{type:"search",value:a,onChange:this.setCurrentText}),Object(v.jsx)("input",{type:"number",className:"col-1",placeholder:"no of elements/page",value:r,onChange:this.changelimit}),Object(v.jsxs)("table",{className:"table",children:[Object(v.jsx)("thead",{children:Object(v.jsxs)("tr",{children:[Object(v.jsx)("th",{scope:"col",children:"Title"}),Object(v.jsx)("th",{scope:"col",children:"Genre"}),Object(v.jsxs)("th",{scope:"col",children:["Stock",Object(v.jsx)("i",{className:"fas fa-sort-up",onClick:this.sortByStock}),Object(v.jsx)("i",{className:"fas fa-sort-down",onClick:this.sortByStock})]}),Object(v.jsxs)("th",{scope:"col",children:["Rating",Object(v.jsx)("i",{className:"fas fa-sort-up",onClick:this.sortByRating}),Object(v.jsx)("i",{className:"fas fa-sort-down",onClick:this.sortByRating})]})]})}),Object(v.jsx)("tbody",{children:o.map((function(t){return Object(v.jsxs)("tr",{scope:"row",children:[Object(v.jsx)("td",{children:t.title}),Object(v.jsx)("td",{children:t.genre.name}),Object(v.jsx)("td",{children:t.numberInStock}),Object(v.jsx)("td",{children:t.dailyRentalRate}),Object(v.jsx)("td",{children:Object(v.jsx)("button",{className:"btn btn-danger text-white",onClick:function(){e.deleteEntry(t._id)},children:"Delete"})})]},t._id)}))})]}),Object(v.jsx)(m,{numberofPage:l,currentPage:c,changeCurrentPage:this.changeCurrentPage})]})]})}}]),n}(a.Component),g=function(e){Object(h.a)(n,e);var t=Object(d.a)(n);function n(){return Object(j.a)(this,n),t.apply(this,arguments)}return Object(b.a)(n,[{key:"render",value:function(){return Object(v.jsx)("div",{children:"New Component"})}}]),n}(a.Component),x=n(2),y=function(e){Object(h.a)(n,e);var t=Object(d.a)(n);function n(){return Object(j.a)(this,n),t.apply(this,arguments)}return Object(b.a)(n,[{key:"render",value:function(){return Object(v.jsxs)("nav",{class:"navbar navbar-expand-lg navbar-dark bg-dark",children:[Object(v.jsx)(f.b,{className:"navbar-brand",to:"/",children:"Movies"}),Object(v.jsx)("button",{className:"navbar-toggler",type:"button","data-bs-toggle":"collapse","data-bs-target":"#navbarNav","aria-controls":"navbarNav","aria-expanded":"false","aria-label":"Toggle navigation",children:Object(v.jsx)("span",{className:"navbar-toggler-icon"})}),Object(v.jsx)("div",{className:"collapse navbar-collapse",id:"navbarNav",children:Object(v.jsx)("div",{className:"Navbar-nav",children:Object(v.jsx)(f.b,{className:"Nav-Link",to:"/login",children:"Login"})})})]})}}]),n}(a.Component),k=(a.Component,function(e){Object(h.a)(n,e);var t=Object(d.a)(n);function n(){var e;Object(j.a)(this,n);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).state={movies:[]},e.setMovies=function(t){e.setState({movies:t})},e.deleteEntry=function(t){var n=e.state.movies.filter((function(e){return e._id!=t}));e.setState({movies:n})},e.addMovie=function(t){for(var n=t.title,a=t.genre,r=t.stock,c=t.rate,s=[{_id:"5b21ca3eeb7f6fbccd471818",name:"Action"},{_id:"5b21ca3eeb7f6fbccd471820",name:"Thriller"},{_id:"5b21ca3eeb7f6fbccd471814",name:"Comedy"}],i=0;i<s.length;i++)s[i].name==a&&(a=s[i]);var o={_id:Date.now(),title:n,genre:a,dailyRentalRate:c,numberInStock:r},l=[].concat(Object(u.a)(e.state.movies),[o]);e.setState({movies:l})},e}return Object(b.a)(n,[{key:"componentDidMount",value:function(){var e=Object(l.a)(o.a.mark((function e(){var t,n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://react-backend101.herokuapp.com/movies");case 2:return t=e.sent,e.next=5,t.json();case 5:n=e.sent,this.setState({movies:n.movies});case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this;return console.log("App"),Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)(y,{}),Object(v.jsxs)(x.d,{children:[Object(v.jsx)(x.b,{path:"/new",render:function(t){return Object(v.jsx)(g,Object(s.a)(Object(s.a)({},t),{},{addMovie:e.addMovie}))}}),Object(v.jsx)(x.b,{path:"/",render:function(t){return Object(v.jsx)(O,Object(s.a)(Object(s.a)({},t),{},{deleteEntry:e.deleteEntry,movies:e.state.movies,setMovies:e.setMovies}))}})]})]})}}]),n}(a.Component)),C=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,39)).then((function(t){var n=t.getCLS,a=t.getFID,r=t.getFCP,c=t.getLCP,s=t.getTTFB;n(e),a(e),r(e),c(e),s(e)}))},N=(a.Component,function(e){Object(h.a)(n,e);var t=Object(d.a)(n);function n(){return Object(j.a)(this,n),t.apply(this,arguments)}return Object(b.a)(n,[{key:"render",value:function(){return Object(v.jsx)("div",{})}}]),n}(a.Component)),S=function(e){Object(h.a)(n,e);var t=Object(d.a)(n);function n(){return Object(j.a)(this,n),t.apply(this,arguments)}return Object(b.a)(n,[{key:"render",value:function(){return Object(v.jsx)("div",{})}}]),n}(a.Component),w=function(e){Object(h.a)(n,e);var t=Object(d.a)(n);function n(){return Object(j.a)(this,n),t.apply(this,arguments)}return Object(b.a)(n,[{key:"render",value:function(){return Object(v.jsx)("div",{})}}]),n}(a.Component);a.Component;c.a.render(Object(v.jsx)(f.a,{children:Object(v.jsx)(k,{})}),document.getElementById("root")),C()}},[[38,1,2]]]);
//# sourceMappingURL=main.438d8739.chunk.js.map